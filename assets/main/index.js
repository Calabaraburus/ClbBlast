System.register("chunks:///_virtual/AdittionalSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,o,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t._decorator,o=t.CCString,a=t.SpriteFrame}],execute:function(){var l,p,c,s,u,y,d;r._RF.push({},"5876cCQYNZLoJZNWAWhT4mu","AdittionalSprite",void 0);var f=n.ccclass,b=n.property;t("AdittionalSprite",(l=f("AdittionalSprite"),p=b({type:o}),c=b({type:a}),l((y=e((u=function(){i(this,"name",y,this),i(this,"sprite",d,this)}).prototype,"name",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(u.prototype,"sprite",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u))||s));r._RF.pop()}}}));

System.register("chunks:///_virtual/BombTileController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileController.ts"],(function(e){"use strict";var r,t,o,i,l,n,c,a,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,c=e.Node,a=e.CCInteger},function(e){s=e.TileController}],execute:function(){var p,u,b,f,y,d,m;l._RF.push({},"fdc3f23KSJGcJ57sAOpl67k","BombTileController",void 0);var h=n.ccclass,T=n.property;e("BombTileController",(p=h("BombTileController"),u=T(c),b=T(a),p((d=r((y=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return r=e.call.apply(e,[this].concat(l))||this,o(r,"bombSpriteNode",d,i(r)),o(r,"fireDistance",m,i(r)),r}return t(r,e),r.prototype.destroyTile=function(){e.prototype.destroyTile.call(this),this.bombSpriteNode.active=!1},r}(s)).prototype,"bombSpriteNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=r(y.prototype,"fireDistance",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),f=y))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/BombTileInterBehaviour.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileInterBehaviour.ts","./BombTileController.ts"],(function(e){"use strict";var o,i,r,t,l;return{setters:[function(e){o=e.inheritsLoose},function(e){i=e.cclegacy,r=e._decorator},function(e){t=e.TileInterBehaviour},function(e){l=e.BombTileController}],execute:function(){var n;i._RF.push({},"79c62x/GzlJt4JGgXTURFNQ","BombTileInterBehaviour",void 0);var c=r.ccclass;r.property,e("BombTileInterBehaviour",c("BombTileInterBehaviour")(n=function(e){function i(){return e.apply(this,arguments)||this}return o(i,e),i.prototype.tileClicked=function(e,o){if(o instanceof l){var i=o,r=o.row-i.fireDistance;r=r<0?0:r;var t=o.row+i.fireDistance;t=t>=e.fieldModel.rows?e.fieldModel.rows-1:t;var n=o.col-i.fireDistance;n=n<0?0:n;var c=o.col+i.fireDistance;c=c>=e.fieldModel.cols?e.fieldModel.cols-1:c;var s=function(o){for(var i=r;i<=t;i++)for(var l=n;l<=c;l++){o(e.logicField[i][l])}};s((function(e){e.isDestroied||"star"==e.tileModel.Name||"rocket"!=e.tileModel.Name&&"bomb"!=e.tileModel.Name||e.activate()})),s((function(e){e.isDestroied||"star"==e.tileModel.Name||e.destroyTile()})),i.destroyTile()}},i}(t))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/FieldController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileController.ts","./StdTileController.ts","./FieldModel.ts","./TileCreator.ts"],(function(e){"use strict";var i,t,l,o,n,r,s,a,c,d,f,u,h,T,p,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){r=e.cclegacy,s=e._decorator,a=e.UITransform,c=e.EventTarget,d=e.Vec3,f=e.randomRangeInt,u=e.Component},function(e){h=e.TileController},function(e){T=e.StdTileController},function(e){p=e.FieldModel},function(e){v=e.TileCreator}],execute:function(){var w,M,g,C,m,_,y,z,A;r._RF.push({},"a1d8d50jUFNB7KWPlRH5rMr","FieldController",void 0);var F=s.ccclass,S=s.property;e("FieldController",(w=F("FieldController"),M=S({type:[p],visible:!0,tooltip:"Field model"}),g=S(a),C=S(v),w((y=i((_=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(i=e.call.apply(e,[this].concat(n))||this).tileClickedEvent=new c,l(i,"fieldModel",y,o(i)),l(i,"tilesArea",z,o(i)),l(i,"tileCreator",A,o(i)),i._field=void 0,i._timeToexecute=0,i._canexecute=!1,i}t(i,e);var r=i.prototype;return r.start=function(){this.tileCreator.setModel(this.fieldModel),this.generateTiles(),this.analizeTiles()},r.generateTiles=function(){console.log("[field] Rows: "+this.fieldModel.rows+" Cols: "+this.fieldModel.cols),this._field=[];for(var e=this.fieldModel.getFieldMap(),i=0;i<this.fieldModel.rows;i++){this._field[i]=[];for(var t=0;t<this.fieldModel.rows;t++){var l=this.fieldModel.getTileModelByMapMnemonic(e[i][t]);this.createTile({row:i,col:t,tileModel:l,putOnField:!0})}}},r.createTile=function(e){var i=e.row,t=e.col,l=e.tileModel,o=e.position,n=void 0===o?null:o,r=e.putOnField,s=void 0!==r&&r,a=this.tileCreator.create(l.Name),c=a.getComponent(h);c.justCreated=!0,c.setModel(l),c.row=i,c.col=t,c.clickedEvent.on("TileController",this.tileClicked,this);var d=this.calculateTilePosition(i,t);a.position=null==n?d:n,a.parent=this.node;var f=this.calculateTileSize(a);return a.scale=f,s&&(this._field[i][t]=c),c},r.calculateTilePosition=function(e,i){var t=this.fieldModel.border/2,l=this.tilesArea.width/this.fieldModel.cols;return new d(i*l+t,e*l+t)},r.calculateTileSize=function(e){var i=e.getComponent(a),t=this.tilesArea.width/this.fieldModel.cols/(i.width+this.fieldModel.border);return new d(t,t,e.scale.z)},r.tileClicked=function(e){this._timeToexecute>0||(console.log("[tile] clicked. Name: "+e.tileModel.Name),this.tileClickedEvent.emit("FieldController",this,e),this._timeToexecute=.2,this._canexecute=!0)},r.getConnectedTiles=function(e){var i=new Set;return this.findConnectedTiles(e,i),Array.from(i.values())},r.findConnectedTiles=function(e,i){var t=this,l=function(e,l){e.tileTypeId==l.tileTypeId&&(i.has(l)||(i.add(l),t.findConnectedTiles(l,i)))};e.row+1<this.fieldModel.rows&&l(e,this._field[e.row+1][e.col]),e.row-1>=0&&l(e,this._field[e.row-1][e.col]),e.col+1<this.fieldModel.cols&&l(e,this._field[e.row][e.col+1]),e.col-1>=0&&l(e,this._field[e.row][e.col-1])},r.moveAllTilesOnARote=function(e){var i=this,t=this.getStartTile(e),l=this.getEndTile(e),o=this.fieldModel.getTileModel("empty");if(null!=t&&null!=l){var n=function(n){var r=[];return i._field.forEach((function(i){i[e].isDestroied==n&&i[e]!=t&&i[e]!=l&&i[e].tileTypeId!=o.Id&&r.push(i[e])})),r},r=l.row>t.row,s=n(!0);if(0!=s.length){for(var a=this.fieldModel.getStandartTiles(),c=[],d=0;d<s.length;d++){var u=r?t.row+1+d:t.row-1-d,h=r?t.row-1-d:t.row+1+d,T=this.createTile({row:u,col:e,tileModel:a[f(0,a.length)],position:this.calculateTilePosition(h,t.col)});c[r?d:s.length-d-1]=T}var p=n(!1);p.forEach((function(e,i){c[s.length+(r?i:p.length-i-1)]=e})),c.forEach((function(e,l){var o=r?t.row+1+l:t.row-1-l;e.row=o,i._field[e.row][e.col]=e,i.moveTile(e,i.calculateTilePosition(e.row,e.col))}))}}},r.analizeTiles=function(){var e=this;this.PrepareTilesForAnalize(),this._field.forEach((function(i,t){i.forEach((function(i,t){var l=new Set;(e.findConnectedTiles(i,l),l.size>1)?e.AnalizeConnects(l):i instanceof T&&i.resetSpecialSprite();i.justCreated=!1,i.tileAnalized=!0}))}))},r.AnalizeConnects=function(e){var i=this;e.forEach((function(t){if(!t.tileAnalized&&t instanceof T){var l=t;e.size>=i.fieldModel.quantityToStar?l.setStar():e.size>=i.fieldModel.quantityToBomb?l.setBomb():e.size>=i.fieldModel.quantityToRocket?l.setRocket():l.resetSpecialSprite()}}))},r.PrepareTilesForAnalize=function(){var e=this;this._field.forEach((function(i,t){i.forEach((function(i,t){i.isDestroied&&e._field[i.row][i.col]==i&&e._field[i.row][i.col],i.tileAnalized=!1}))}))},r.moveTile=function(e,i){e.move(e.node.position,i)},r.getStartTile=function(e){var i=this.fieldModel.getTileModel("start");return this.getTile(e,i)},r.getEndTile=function(e){var i=this.fieldModel.getTileModel("end");return this.getTile(e,i)},r.getTile=function(e,i){var t=null;return this._field.forEach((function(l,o){l[e].tileTypeId!=i.Id||(t=l[e])})),t},r.update=function(e){if(this._timeToexecute<0&&this._canexecute){this._canexecute=!1;for(var i=0;i<this.fieldModel.cols;i++)this.moveAllTilesOnARote(i);this.analizeTiles()}this._timeToexecute-=e},n(i,[{key:"logicField",get:function(){return this._field}}]),i}(u)).prototype,"fieldModel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=i(_.prototype,"tilesArea",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=i(_.prototype,"tileCreator",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=_))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/FieldModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileModel.ts","./MnemonicMapping.ts"],(function(e){"use strict";var t,i,n,r,l,o,a,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e._decorator,l=e.CCInteger,o=e.CCFloat,a=e.TextAsset},function(e){u=e.TileModel},function(e){p=e.MnemonicMapping}],execute:function(){var s,c,f,b,h,m,y,g,d,M,T,v,w,z,F,q,B,R,S,C,N;n._RF.push({},"b6bd2ZWRz5Kwrb/tun97GB8","FieldModel",void 0);var _=r.ccclass,k=r.property;e("FieldModel",(s=_("FieldModel"),c=k({type:l}),f=k({type:l}),b=k({type:o}),h=k({type:l}),m=k({type:l}),y=k({type:l}),g=k({type:[u],visible:!0,tooltip:"Tile models"}),d=k({type:[a],visible:!0,tooltip:"Field map"}),M=k({type:[p],visible:!0,tooltip:"Tile mnemonic mapping"}),s((w=t((v=function(){function e(){i(this,"cols",w,this),i(this,"rows",z,this),i(this,"border",F,this),i(this,"quantityToRocket",q,this),i(this,"quantityToBomb",B,this),i(this,"quantityToStar",R,this),i(this,"tiles",S,this),i(this,"fieldMap",C,this),i(this,"mnemMapping",N,this)}var t=e.prototype;return t.getStandartTiles=function(){return this.tiles.filter((function(e){return!e.SpecialTile}))},t.getTileModel=function(e){return this.tiles.filter((function(t){return t.Name==e}))[0]},t.getTileModelByMapMnemonic=function(e){var t=this.mnemMapping.filter((function(t){return t.mnemonic==e}));if(0==t.length)return this.tiles.filter((function(t){return t.Name==e}))[0];var i=this.tiles.filter((function(e){return e.Name==t[0].tileName}));return 0!=i.length?i[0]:this.tiles[0]},t.getFieldMap=function(){var e=[],t=this.fieldMap.text.split(/\r?\n/);return t.forEach((function(i,n){var r=t.length-n-1;e[r]=[];for(var l=0;l<i.length;l++)e[r][l]=i.charAt(l)})),e},e}()).prototype,"cols",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(v.prototype,"rows",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(v.prototype,"border",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),q=t(v.prototype,"quantityToRocket",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),B=t(v.prototype,"quantityToBomb",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),R=t(v.prototype,"quantityToStar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 11}}),S=t(v.prototype,"tiles",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(v.prototype,"fieldMap",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(v.prototype,"mnemMapping",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=v))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/FieldModelComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FieldModel.ts"],(function(e){"use strict";var o,i,t,l,n,r,c,d;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,c=e.Component},function(e){d=e.FieldModel}],execute:function(){var p,s,a,u,f;n._RF.push({},"4333bz0Sp5Pb459zvi8A2hc","FieldModelComponent",void 0);var y=r.ccclass,F=r.property;e("FieldModelComponent",(p=y("FieldModelComponent"),s=F({type:[d],visible:!0,tooltip:"Field model"}),p((f=o((u=function(e){function o(){for(var o,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return o=e.call.apply(e,[this].concat(n))||this,t(o,"fieldModel",f,l(o)),o}return i(o,e),o}(c)).prototype,"fieldModel",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=u))||a));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./FieldController.ts","./FieldModel.ts","./FieldModelComponent.ts","./MnemonicMapping.ts","./TileContollerListItem.ts","./TileCreator.ts","./AdittionalSprite.ts","./BombTileController.ts","./BombTileInterBehaviour.ts","./RocketTileController.ts","./RocketTileInterBehaviour.ts","./StarTileController.ts","./StarTileInterBehaviour.ts","./TileController.ts","./TileInterBehaviour.ts","./TileModel.ts","./TileState.ts","./TileStateToColor.ts","./StdTileController.ts","./StdTileInterBehaviour.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MnemonicMapping.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,n,t,r,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){t=e.cclegacy,r=e._decorator,c=e.CCString}],execute:function(){var o,a,p,l,s,u,m;t._RF.push({},"c0935YtDZ5DAbyxViMwzksE","MnemonicMapping",void 0);var g=r.ccclass,y=r.property;e("MnemonicMapping",(o=g("MnemonicMapping"),a=y({type:c}),p=y({type:c}),o((u=i((s=function(){n(this,"tileName",u,this),n(this,"mnemonic",m,this)}).prototype,"tileName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(s.prototype,"mnemonic",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=s))||l));t._RF.pop()}}}));

System.register("chunks:///_virtual/RocketTileController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileController.ts"],(function(e){"use strict";var t,o,i,r,c,l,n,a,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,c=e.createClass},function(e){l=e.cclegacy,n=e._decorator,a=e.Node,s=e.randomRangeInt},function(e){u=e.TileController}],execute:function(){var p,d,f,h,y,R,k;l._RF.push({},"fce3ciy8W9P+6c+Q0LerxuW","RocketTileController",void 0);var v=n.ccclass,N=n.property;e("RocketTileController",(p=v("RocketTileController"),d=N(a),f=N(a),p((R=t((y=function(e){function t(){for(var t,o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return t=e.call.apply(e,[this].concat(c))||this,i(t,"RocketVNode",R,r(t)),i(t,"RocketHNode",k,r(t)),t._isVertical=void 0,t}o(t,e);var l=t.prototype;return l.destroyTile=function(){e.prototype.destroyTile.call(this),this.RocketVNode.active=!1,this.RocketHNode.active=!1},l.start=function(){this.isVertical=Boolean(s(0,2))},c(t,[{key:"isVertical",get:function(){return this._isVertical},set:function(e){this._isVertical=e,e?this.RocketVNode.active=!0:this.RocketHNode.active=!0}}]),t}(u)).prototype,"RocketVNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(y.prototype,"RocketHNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/RocketTileInterBehaviour.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileInterBehaviour.ts","./RocketTileController.ts"],(function(e){"use strict";var t,o,i,r,l;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,i=e._decorator},function(e){r=e.TileInterBehaviour},function(e){l=e.RocketTileController}],execute:function(){var c;o._RF.push({},"f7470kCYepAtZe6bRPeTzmR","RocketTileInterBehaviour",void 0);var n=i.ccclass;i.property,e("RocketTileInterBehaviour",n("RocketTileInterBehaviour")(c=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.tileClicked=function(e,t){if(t instanceof l){var o=t;o.isVertical?(e.logicField.forEach((function(e){var o=e[t.col];o.isDestroied||"star"==o.tileModel.Name||"rocket"!=o.tileModel.Name&&"bomb"!=o.tileModel.Name||o.activate()})),e.logicField.forEach((function(e){var o=e[t.col];o.isDestroied||"star"==o.tileModel.Name||o.destroyTile()}))):(e.logicField[o.row].forEach((function(e){e.isDestroied||"rocket"!=e.tileModel.Name&&"bomb"!=e.tileModel.Name||e.activate()})),e.logicField[o.row].forEach((function(e){e.isDestroied||e.destroyTile()}))),o.destroyTile()}},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/StarTileController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileController.ts"],(function(r){"use strict";var e,t,o,i,l,n,a,s,c;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,i=r.assertThisInitialized,l=r.createClass},function(r){n=r.cclegacy,a=r._decorator,s=r.Sprite},function(r){c=r.TileController}],execute:function(){var p,u,d,f,h;n._RF.push({},"80ae3niNVhJ3bJAiVo2eoAC","StarTileController",void 0);var y=a.ccclass,C=a.property;r("StarTileController",(p=y("StarTileController"),u=C(s),p((h=e((f=function(r){function e(){for(var e,t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return(e=r.call.apply(r,[this].concat(l))||this)._modelCF=void 0,o(e,"starSprite",h,i(e)),e}t(e,r);var n=e.prototype;return n.createdForm=function(r){this._modelCF=r,this.starSprite.color=r.starColor},n.destroyTile=function(){r.prototype.destroyTile.call(this),this.starSprite.spriteFrame=null},l(e,[{key:"modelCreatedFrom",get:function(){return this._modelCF}}]),e}(c)).prototype,"starSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/StarTileInterBehaviour.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileInterBehaviour.ts","./StarTileController.ts"],(function(e){"use strict";var t,r,i,o,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator},function(e){o=e.TileInterBehaviour},function(e){n=e.StarTileController}],execute:function(){var l;r._RF.push({},"997b1zfVZJBi6gAASkUiht6","StarTileInterBehaviour",void 0);var c=i.ccclass;i.property,e("StarTileInterBehaviour",c("StarTileInterBehaviour")(l=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.prototype.tileClicked=function(e,t){if(t instanceof n){var r=t;e.logicField.forEach((function(e){e.forEach((function(e){e.tileModel.Id==r.modelCreatedFrom.Id&&e.destroyTile()}))})),r.destroyTile()}},r}(o))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/StdTileController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileController.ts","./TileState.ts"],(function(t){"use strict";var e,i,r,o,s,n,a,l,p,c,S,h,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){n=t.cclegacy,a=t._decorator,l=t.Sprite,p=t.Prefab,c=t.instantiate,S=t.UITransform,h=t.Vec3},function(t){u=t.TileController},function(t){d=t.TileState}],execute:function(){var f,y,_,b,m,v,C;n._RF.push({},"ca3d7tZX4xK/LGI64SbtiRi","StdTileController",void 0);var T=a.ccclass,g=a.property;t("StdTileController",(f=T("StdTileController"),y=g(l),_=g(p),f((v=e((m=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this)._curSprite=void 0,e._state=void 0,e._bombSprite=void 0,e._rocketSprite=void 0,e._starSprite=void 0,r(e,"SpecialSprite",v,o(e)),r(e,"destroyPartycles",C,o(e)),e}i(e,t);var n=e.prototype;return n.start=function(){t.prototype.start.call(this),this.updateSprite()},n.updateSprite=function(){this._curSprite=this.getComponent(l),this._curSprite.spriteFrame=this.tileModel.Sprite},n.setBomb=function(){this.SpecialSprite.spriteFrame=this._bombSprite,this._state=d.bomb},n.setRocket=function(){this.SpecialSprite.spriteFrame=this._rocketSprite,this._state=d.rocket},n.setStar=function(){this.SpecialSprite.spriteFrame=this._starSprite,this._state=d.star},n.resetSpecialSprite=function(){this.SpecialSprite.spriteFrame=null,this._state=d.empty},n.setModel=function(e){t.prototype.setModel.call(this,e),this._rocketSprite=e.findAdditionalSprite("rocket"),this._bombSprite=e.findAdditionalSprite("bomb"),this._starSprite=e.findAdditionalSprite("star")},n.destroyTile=function(){t.prototype.destroyTile.call(this),this._curSprite=this.getComponent(l),this._curSprite.spriteFrame=null,this.CreateParticles(),this.resetSpecialSprite()},n.CreateParticles=function(){var t=c(this.destroyPartycles);t.parent=this.node.parent;var e=this.getComponent(S);t.position=new h(this.node.position.x+e.contentSize.width/2,this.node.position.y+e.contentSize.height/2,this.node.position.z)},s(e,[{key:"state",get:function(){return this._state}}]),e}(u)).prototype,"SpecialSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(m.prototype,"destroyPartycles",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/StdTileInterBehaviour.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StarTileController.ts","./TileInterBehaviour.ts","./TileState.ts","./StdTileController.ts"],(function(t){"use strict";var e,i,o,r,l,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator},function(t){r=t.StarTileController},function(t){l=t.TileInterBehaviour},function(t){n=t.TileState},function(t){c=t.StdTileController}],execute:function(){var a;i._RF.push({},"cc7bcjVq1FOx5SiTxSWWi8P","StdTileInterBehaviour",void 0);var s=o.ccclass;o.property,t("StdTileInterBehaviour",s("StdTileInterBehaviour")(a=function(t){function i(){var e;return(e=t.call(this)||this).tileStateToLogic=new Map,e.tileStateToLogic[n.bomb]="bomb",e.tileStateToLogic[n.empty]="empty",e.tileStateToLogic[n.rocket]="rocket",e.tileStateToLogic[n.star]="star",e}return e(i,t),i.prototype.tileClicked=function(t,e){if(e instanceof c){var i=t.getConnectedTiles(e),o=e,l=this.tileStateToLogic[o.state],a=this.field.fieldModel.getTileModel(l);if(null!=a&&o.state!=n.empty){var s=t.createTile({row:e.row,col:e.col,tileModel:a,putOnField:!0});if(s instanceof r)s.createdForm(e.tileModel)}i.forEach((function(t){return t.destroyTile()}))}},i}(l))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/TileContollerListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,l,n,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,l=e._decorator,n=e.CCString,o=e.Prefab}],execute:function(){var a,c,s,u,p,f,b;r._RF.push({},"56cd5JDmStGupPZKfZQCbFl","TileContollerListItem",void 0);var m=l.ccclass,y=l.property;e("TileContollerListItem",(a=m("TileContollerListItem"),c=y(n),s=y(o),a((f=t((p=function(){i(this,"name",f,this),i(this,"prefab",b,this)}).prototype,"name",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(p.prototype,"prefab",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/TileController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileModel.ts"],(function(t){"use strict";var e,i,n,o,r,s,l,a,c,u,d,h,_,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){s=t.cclegacy,l=t._decorator,a=t.CCFloat,c=t.EventTarget,u=t.Button,d=t.log,h=t.Vec3,_=t.Component},function(t){f=t.TileModel}],execute:function(){var p,v,g,b,m,y,C,w,M;s._RF.push({},"3a156jmaexMQKRQX+ethx4f","TileController",void 0);var k=l.ccclass,T=l.property;t("TileController",(p=k("TileController"),v=T(f),g=T(a),b=T(a),p((C=e((y=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this)._field=void 0,e._button=void 0,e._needMove=!1,e._from=void 0,e._to=void 0,e._speed=void 0,e._interactable=!0,e.clickedEvent=new c,n(e,"tileModel",C,o(e)),n(e,"Speed",w,o(e)),n(e,"Acceleration",M,o(e)),e.tileAnalized=void 0,e._isDestroied=!1,e._activating=!1,e._justCreated=!1,e._col=0,e._row=0,e}i(e,t);var s=e.prototype;return s.start=function(){this._button=this.getComponent(u)},s.setModel=function(t){null!=t?(this.tileModel=t,"start"!=t.Name&&"end"!=t.Name&&"empty"!=t.Name||(this._button=this.getComponent(u),this._interactable=!1,this._button.interactable=this._interactable)):d("[tile] tile model can't be null")},s.setField=function(t){this._field=t},s.clicked=function(){this.activate()},s.destroyTile=function(){this._isDestroied=!0},s.activate=function(){this.activating||this._justCreated||!this._interactable||this.isDestroied||(this._activating=!0,this.OnClicked(),this._activating=!1)},s.OnClicked=function(){this.clickedEvent.emit("TileController",this)},s.update=function(t){if(this._needMove){var e=new h;h.subtract(e,this._to,this._from),e.normalize(),this._speed+=this.Acceleration*t,this._speed>this.Speed&&(this._speed=this.Speed);var i=new h,n=new h,o=new h;h.multiplyScalar(i,e,this._speed*t),h.add(n,this.node.position,i),h.subtract(o,this._to,n),o.normalize(),e.equals(o)||(this._needMove=!1,n=this._to),this.node.position=n}},s.move=function(t,e){this._from=t,this._to=e,this._speed=0,this._to.equals(this._from)||(this._needMove=!0)},r(e,[{key:"isDestroied",get:function(){return this._isDestroied}},{key:"activating",get:function(){return this._activating}},{key:"tileTypeId",get:function(){return this.tileModel.Id}},{key:"justCreated",get:function(){return this._justCreated},set:function(t){this._justCreated=t}},{key:"col",get:function(){return this._col},set:function(t){this._col=t}},{key:"row",get:function(){return this._row},set:function(t){this._row=t}}]),e}(_)).prototype,"tileModel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(y.prototype,"Speed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=e(y.prototype,"Acceleration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),m=y))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/TileCreator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileContollerListItem.ts"],(function(e){"use strict";var t,r,i,n,o,l,a,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.instantiate,c=e.Component},function(e){s=e.TileContollerListItem}],execute:function(){var u,f,p,d,h;o._RF.push({},"cc315NJHVBPD6s1Xie2NueX","TileCreator",void 0);var v=l.ccclass,y=l.property;e("TileCreator",(u=v("TileCreator"),f=y(s),u((h=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this)._fieldModel=void 0,i(t,"tilePrefabs",h,n(t)),t}r(t,e);var o=t.prototype;return o.setModel=function(e){this._fieldModel=e},o.create=function(e){var t=this.tilePrefabs.filter((function(t){var r=t.name.split(";"),i=!1;return r.forEach((function(t){t.trim()!=e||(i=!0)})),!!i}));return t.length>0?a(t[0].prefab):null},t}(c)).prototype,"tilePrefabs",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/TileInterBehaviour.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FieldController.ts"],(function(e){"use strict";var t,i,r,n,o,l;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){r=e.cclegacy,n=e._decorator,o=e.Component},function(e){l=e.FieldController}],execute:function(){var c;r._RF.push({},"f8d52q+otZH15PxmTMDFIaa","TileInterBehaviour",void 0);var s=n.ccclass;n.property,e("TileInterBehaviour",s("TileInterBehaviour")(c=function(e){function r(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this)._field=void 0,t}t(r,e);var n=r.prototype;return n.start=function(){this._field=this.getComponent(l),this._field.tileClickedEvent.on("FieldController",this.tileClicked,this)},n.tileClicked=function(e,t){},i(r,[{key:"field",get:function(){return this._field}}]),r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/TileModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdittionalSprite.ts"],(function(i){"use strict";var e,t,r,n,l,o,a,u,p,s;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.initializerDefineProperty},function(i){r=i.cclegacy,n=i._decorator,l=i.CCInteger,o=i.CCString,a=i.SpriteFrame,u=i.Color,p=i.CCBoolean},function(i){s=i.AdittionalSprite}],execute:function(){var c,b,f,d,y,h,g,S,v,m,C,z,T,w,M;r._RF.push({},"782710oMCNCiLTDg86sgpaj","TileModel",void 0);var D=n.ccclass,_=n.property;i("TileModel",(c=D("TileModel"),b=_({type:l,visible:!0}),f=_({type:o,visible:!0}),d=_({type:a,visible:!0}),y=_({type:u,visible:!0}),h=_({type:p,visible:!0}),g=_({type:s,visible:!0}),c((m=e((v=function(){function i(){t(this,"Id",m,this),t(this,"Name",C,this),t(this,"Sprite",z,this),t(this,"starColor",T,this),t(this,"SpecialTile",w,this),t(this,"additionalSprites",M,this)}return i.prototype.findAdditionalSprite=function(i){var e=this.additionalSprites.filter((function(e){return e.name==i}));return 0!=e.length?e[0].sprite:null},i}()).prototype,"Id",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(v.prototype,"Name",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=e(v.prototype,"Sprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(v.prototype,"starColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"SpecialTile",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=e(v.prototype,"additionalSprites",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=v))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/TileState.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var c;t("TileState",void 0),e._RF.push({},"12ab47R9F5Ex4ST9HEH2pXu","TileState",void 0),function(t){t[t.empty=0]="empty",t[t.star=1]="star",t[t.bomb=2]="bomb",t[t.rocket=3]="rocket"}(c||(c=t("TileState",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/TileStateToColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileState.ts"],(function(e){"use strict";var t,o,r,i,l,a,n;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){r=e.cclegacy,i=e._decorator,l=e.Enum,a=e.Color},function(e){n=e.TileState}],execute:function(){var c,s,u,p,T,f,y;r._RF.push({},"90b6echE2ZG0LfHNrOFapE8","TileStateToColor",void 0);var b=i.ccclass,h=i.property;e("TileStateToColor",(c=b("TileTypeToColor"),s=h({type:l(n)}),u=h(a),c((f=t((T=function(){o(this,"state",f,this),o(this,"color",y,this)}).prototype,"state",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(T.prototype,"color",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=T))||p));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});